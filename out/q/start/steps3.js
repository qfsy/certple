var verifyBoxShow=function(){"use strict";for(var e=$(".verifyBox").html(""),n=JSON.parse(JSON.stringify(ACME.StepData.auths)),l=ACME.StepData.config.domains,a=0;a<l.length;a++){for(var i=l[a],t=n[i],o=t.challenges,s=0;s<o.length;s++){var d=o[s];d.challIdx=s,d.name=ACME.ChallName(d),d._sort=ACME.ChallSort(d)}o.sort(function(e,n){return e._sort.localeCompare(n._sort)});var r="";for(s=0;s<o.length;s++){var c=o[s];r+=`\n<label>\n<input type="radio" name="choice_authItem_${a}"\nclass="form-check-input choice_authChall choice_authChall_${a} choice_authChall_${a}_${s}"\nvalue="${a}_${s}" challidx="${c.challIdx}">&nbsp;${c.name}\n</label><br>\n`}e.append(`\n<div class="itemBox my-5" style="border: #ccc 1px solid; border-radius: 10px;">\n<div class="pd FlexBox">\n<div style="background-color: #00ff6e25; border: none; padding: 16px; border-radius: 10px 10px 0px 0px;" class="mb-3 fw-bold">域名：${i}</div>\n<div class="FlexItem px-3">${r}</div>\n</div>\n<div class="verifyItemBox_${a} px-3"></div>\n<div class="verifyItemState_${a} px-3 pb-3"></div>\n</div>\n`)}LangReview(e),$(".choice_authChall").bind("click",function(e){var a=e.target,i=a.value.split("_"),t=+i[0],o=+i[1],s=l[t],d=n[s],r=d.challenges[o],c=['<div class="mt-1" style="font-size:14px;color:#aaa">'],v="color: #333;";"dns-01"==r.type?(c.push(Lang("前往域名权威 DNS 服务器中添加以下 TXT 记录。在 添加 DNS 记录 后强烈建议等待 30 秒后再点击开始验证。因为如果验证失败，需要重新提交信息。"," ")+"</div>"),c.push(`<div class="pd FlexBox my-3">\n<div style="${v}">${Lang("主机记录：","Sub Domain")}</div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="_acme-challenge.${d.identifier.value}" />\n</div>\n</div>\n<div class="pd FlexBox mb-3">\n<div style="${v}">${Lang("TXT 记录值：","TXT Record")}</div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="${r.authTxtSHA256}" />\n</div>\n</div>`)):"http-01"==r.type?(c.push(Lang("在网站根目录中创建 <b>/.well-known/acme-challenge/</b> 目录，目录内创建 <b>"+FormatText(r.token)+'</b> 文件，文件内保存下面的文件内容，保存好后 <a href="http://'+d.identifier.value+"/.well-known/acme-challenge/"+FormatText(r.token)+'" target="_blank">打开验证文件</a> 测试能否能够正常访问。这个文件 URL 必须是 80 端口，并且公网可以访问，否则 ACME 无法访问到此地址将会验证失败。Windows 操作提示： Windows 中用 <b>.well-known.</b> 作为文件夹名称就能创建 <b>.well-known</b> 文件夹； IIS 可能需在此文件夹下的 MIME 类型中给 <b>.</b> 添加 <b>text/plain</b> 。'," ")+"</div>"),c.push(`<div class="pd FlexBox my-3">\n<div style="${v}">${Lang("文件路径：","File URL")}</div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="http://${d.identifier.value}/.well-known/acme-challenge/${FormatText(r.token)}" />\n</div>\n</div>\n<div class="pd FlexBox mb-3">\n<div style="${v}">${Lang("文件内容：","File Content")}</div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="${r.authTxt}" />\n</div>\n</div>`)):(c.push(Lang("非预定义验证类型，请使用 <b>Key Authorizations (Token+.+指纹)</b> 自行处理，<b>Digest</b> 为 Key Authorizations 的 SHA-256 Base64 值。",'For non-predefined authentication types, please use <i class="i">Key Authorizations (Token+.+Thumbprint)</i> to handle it yourself. <i class="i">Digest</i> is the SHA-256 Base64 value of Key Authorizations.')+"</div>"),c.push(`<div class="pd FlexBox my-3">\n<div style="${v}">Key Authorizations: </div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="${r.authTxt}" />\n</div>\n</div>\n<div class="pd FlexBox mb-3">\n<div style="${v}">Digest (SHA-256 Base64): </div>\n<div class="FlexItem">\n<input class="form-control q-form" readonly value="${r.authTxtSHA256Base64}" />\n</div>\n</div>`)),$(".verifyItemBox_"+t).html(c.join("\n"))});for(a=0;a<l.length;a++){var v=$(".choice_authChall_"+a+"_0");v[0]&&v[0].click()}};